>#交易系统工作拆分   
>>###基础构建(Done)  
1.	客户端增加交易功能入口  
2.	服务端增加交易消息  
3.	客户端增加消息接收  
*tips: 先不用增加特定的界面，只需要确保消息能正确识别传输即可*  

>>###交易界面  
*	按规定制作交易界面  
**Fixed**  
1.	**显示重要消息**


>>###交易流程判定  
*  服务端增加交易判定，具体判定流程和规程参照[策划文档](https://github.com/WHUWuShuang/work_doc/blob/master/design/transaction.md)  
 *tips: *
 1.  *判定流程分为 邀请交易前 和 邀请交易后 两个部分， 抽离出来单独制作方便更改*(done)  
 2.  *流程判定中，金钱需要同时考虑身上和仓库的物理上限*  **(物理上限暂时不用考虑）**  
 3. *金钱暂时留在玩家身上，离线五分钟后会回收。**需给出提示***  
 

>>###交易操作添加  
1. 物品能够放入交易框（done)  
2. 交易锁定功能(done)
*tips: *
	*1.  锁定后将物品信息传给服务端，服务端做暂时存储*  
	*2. 确定不需要历史交易记录，并以此决定数据操作*
3. 确认交易(done)  


>> ###完善功能
*	界面优化  
*	互斥操作添加  

>##疑惑
2.	如何更改其他互斥逻辑
3.	在何处实时监控交易失败  
 **Fixed**
 *target_info 中用的是计时器来实现监控*
 *感觉计时器用多了很浪费？*


> Written with [StackEdit](https://stackedit.io/).